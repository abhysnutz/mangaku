var BOOKMARK={};BOOKMARK.max=max_bookmark;BOOKMARK.checkLocalStorage=function(){return typeof(localStorage)==="object"};BOOKMARK.storeLocalStorage=function(name,data){if(!1==BOOKMARK.checkLocalStorage())
    return!1;return localStorage.setItem(name,JSON.stringify(data))};BOOKMARK.getLocalStorage=function(name){if(typeof name===undefined)
    return!1;if(!1==BOOKMARK.checkLocalStorage())
    return!1;if(name in localStorage===!1)
    return!1;return JSON.parse(localStorage[name])};BOOKMARK.getStored=function(){var bookmarks=BOOKMARK.getLocalStorage("bookmark");if(!1==bookmarks)return[];if(typeof(bookmarks)!==typeof([]))return[];else return bookmarks};BOOKMARK.find=function(id){if(!1==BOOKMARK.checkLocalStorage()){return!1}
    var stored=BOOKMARK.getStored();var index=stored.indexOf(id);return index};BOOKMARK.remove=function(id,noReqSv){if(!1==BOOKMARK.checkLocalStorage()){return!1}
    var stored=BOOKMARK.getStored();var index=stored.indexOf(id);if(index===-1)return!0;stored.splice(index,1);BOOKMARK.storeLocalStorage("bookmark",stored);if(noReqSv!==!1)jQuery.post(ajaxurl,{"action":"bookmark_remove","id":id});return!0};BOOKMARK.push=function(id){if(!1==BOOKMARK.checkLocalStorage()){alert('Sorry, your browser does not support this feature.\nUse the Google Chrome / Mozilla browser.');return!1}
    if(isNaN(id))return!1;var stored=BOOKMARK.getStored();if(stored.length>=BOOKMARK.max){stored=stored.slice(-BOOKMARK.max);BOOKMARK.storeLocalStorage("bookmark",stored);alert("Sorry, you reached your bookmark limit, \nplease remove other manga from bookmark");return!1}
    if(stored.indexOf(id)!==-1){return!0}
    stored.unshift(id);BOOKMARK.storeLocalStorage("bookmark",stored);jQuery.post(ajaxurl,{"action":"bookmark_push","id":id});return!0};BOOKMARK.check=function(){var BMEl=jQuery("div.bookmark[data-id]");if(BMEl.length<1)return!1;var id=BMEl.get(0).getAttribute('data-id');if(isNaN(id))return!1;var bindex=BOOKMARK.find(id);if(!isNaN(bindex)&&bindex!==-1){BMEl.html('<i class="fas fa-bookmark" aria-hidden="true"></i> Bookmarked');BMEl.addClass('marked');return!0}else{BMEl.html('<i class="far fa-bookmark" aria-hidden="true"></i> Bookmark');BMEl.removeClass('marked');return!1}};BOOKMARK.listener=function(){var BMEl=jQuery("div.bookmark[data-id]");if(BMEl.length<1)return!1;BMEl.on('click',function(){var id=this.getAttribute('data-id');if(isNaN(id))return!1;if(BOOKMARK.find(id)===-1){BOOKMARK.push(id)}else{BOOKMARK.remove(id)}
    BOOKMARK.check();return!0})};jQuery(document).ready(function(){BOOKMARK.check();BOOKMARK.listener()})